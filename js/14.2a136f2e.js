(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"713b":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{id:"mainLayout",view:"hHh Lpr fff"}},[s("q-header",{staticClass:"bg-white",attrs:{elevated:""}},[s("q-toolbar",{staticClass:"text-black"},[s("q-btn",{attrs:{flat:"",round:"",icon:"menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),s("q-toolbar-title",{staticClass:"text-center",attrs:{id:"logo"}},[s("router-link",{staticStyle:{display:"inline-block"},attrs:{to:"/"}},[s("img",{staticStyle:{width:"190px",padding:"15px","vertical-align":"middle"},attrs:{alt:"Website logo",src:i("9b19")}})])],1),s("div",[s("q-btn",{attrs:{id:"btn_app",flat:"",round:"",icon:"apps"}},[s("q-menu",{attrs:{"auto-close":""}},[s("q-list",[e.user.islogin?e._e():s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/login"}},[s("q-item-section",[e._v("登入")])],1),e.user.islogin?e._e():s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/register"}},[s("q-item-section",[e._v("註冊")])],1),e.user.islogin?s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:e.logout}},[s("q-item-section",[e._v("登出")])],1):e._e(),e.user.islogin&&!e.user.isAdmin?s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/cart"}},[s("q-item-section",[e._v("購物車")])],1):e._e(),e.user.islogin&&!e.user.isAdmin?s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/order"}},[s("q-item-section",[e._v("訂單")])],1):e._e(),e.user.islogin&&!e.user.isAdmin?s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/profile"}},[s("q-item-section",[e._v("個人檔案")])],1):e._e(),e.user.islogin&&e.user.isAdmin?s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:"",to:"/admin/member"}},[s("q-item-section",[e._v("管理後台")])],1):e._e()],1)],1)],1),e.user.islogin?e._e():s("q-btn",{attrs:{id:"btn_login",flat:"",round:"",icon:"login",to:"/login"}}),e.user.islogin?e._e():s("q-btn",{attrs:{id:"btn_register",flat:"",round:"",icon:"person_add",to:"/register"}}),e.user.islogin?s("q-btn",{attrs:{id:"btn_logout",flat:"",round:"",icon:"logout"},on:{click:e.logout}}):e._e(),e.user.islogin&&!e.user.isAdmin?s("q-btn",{attrs:{id:"btn_shopping_cart",flat:"",round:"",icon:"shopping_cart",to:"/cart"}}):e._e(),e.user.islogin&&!e.user.isAdmin?s("q-btn",{attrs:{id:"btn_order",flat:"",round:"",icon:"receipt_long",to:"/order"}}):e._e(),e.user.islogin&&!e.user.isAdmin?s("q-btn",{attrs:{id:"btn_account_circle",flat:"",round:"",icon:"account_circle",to:"/profile"}}):e._e(),e.user.islogin&&e.user.isAdmin?s("q-btn",{attrs:{id:"btn_manage_accounts",flat:"",round:"",icon:"manage_accounts",to:"/admin/member"}}):e._e()],1)],1)],1),s("q-drawer",{staticClass:"bg-grey-1",attrs:{id:"drawer_mobile",width:250,"show-if-above":"",bordered:"",persistent:"",behavior:"mobile"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[s("q-list",{staticClass:"q-py-lg"},e._l(e.essentialLinks,(function(t){return s("EssentialLink",e._b({key:t.title,staticClass:"q-py-md"},"EssentialLink",t,!1))})),1)],1),s("q-drawer",{staticClass:"bg-grey-1",attrs:{id:"drawer_desktop",width:250,"show-if-above":"",bordered:"",persistent:"",behavior:"desktop"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[s("q-list",{staticClass:"q-py-lg"},e._l(e.essentialLinks,(function(t){return s("EssentialLink",e._b({key:t.title,staticClass:"q-py-md"},"EssentialLink",t,!1))})),1)],1),s("q-page-container",{attrs:{id:"page_container"}},[s("router-view",{key:e.$route.fullPath})],1)],1)},a=[],o=i("758b"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-item",{attrs:{clickable:"",tag:"a",to:e.link}},[e.icon?i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:e.icon}})],1):e._e(),i("q-item-section",[i("q-item-label",[e._v(e._s(e.title))])],1)],1)},r=[],l={name:"EssentialLink",props:{title:{type:String,required:!0},link:{type:String,default:"#"},icon:{type:String,default:""}}},c=l,u=i("2877"),p=i("66e5"),d=i("4074"),m=i("0016"),b=i("0170"),g=i("eebe"),_=i.n(g),f=Object(u["a"])(c,n,r,!1,null,null,null),q=f.exports;_()(f,"components",{QItem:p["a"],QItemSection:d["a"],QIcon:m["a"],QItemLabel:b["a"]});var v={name:"MainLayout",components:{EssentialLink:q},data(){const e=[{title:"關於我們",icon:"import_contacts",link:"/about"},{title:"進行中節慶",icon:"date_range",link:"/progress"},{title:"季節分類",icon:"surfing",link:"/summer"},{title:"商店",icon:"store",link:"/store"},{title:"問題諮詢",icon:"help",link:"/assist"}];return{leftDrawerOpen:!0,essentialLinks:e,mobileData:!0,bluetooth:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{async logout(){try{await o["a"].delete("/users/logout",{headers:{authorization:"Bearer "+this.$store.state.user.jwt.token}}),this.$store.commit("user/logout"),"/"!==this.$route.path&&this.$router.push("/"),this.$swal({icon:"success",title:"成功",text:"登出成功"})}catch(e){console.log(e),this.$swal({icon:"error",title:"錯誤",text:"發生錯誤"})}}}},k=v,w=i("4d5a"),h=i("e359"),y=i("65c6"),Q=i("9c40"),L=i("6ac5"),x=i("4e73"),C=i("1c1c"),D=i("9404"),O=i("09e3"),$=i("7ff0"),A=i("cb32"),E=i("7f67"),N=Object(u["a"])(k,s,a,!1,null,null,null);t["default"]=N.exports;_()(N,"components",{QLayout:w["a"],QHeader:h["a"],QToolbar:y["a"],QBtn:Q["a"],QToolbarTitle:L["a"],QMenu:x["a"],QList:C["a"],QItem:p["a"],QItemSection:d["a"],QDrawer:D["a"],QPageContainer:O["a"],QFooter:$["a"],QAvatar:A["a"]}),_()(N,"directives",{ClosePopup:E["a"]})},"9b19":function(e,t,i){e.exports=i.p+"img/logo.13eda110.svg"}}]);